# CSR, SSR

## CSR (Client Side Rendering)
- **클라이언트 사이드 렌더링**
- 클라이언트(브라우저)에서 데이터에 따라 HTML 요소들이 렌더링
- 서버에서 비어있는 HTML 파일을 클라이언트에 보내고, 클라이언트는 HTML 파일에 링크된 웹사이트에서 필요한 로직이 담겨있는 JS 요청
- 동적으로 HTML을 생성할 수 있는 웹 어플리케이션 로직이 담긴 JS 파일을 불러와 웹사이트에 보여지게 함 
- 사용자가 웹사이트를 볼 수 있음과 동시에 인터랙션 가능

### 장점
- 사용자가 웹 사이트내에서 이동해도 새로운 HTML을 내려 받지 않고 클라이언트에서 그리기 때문에 화면 깜빡임 현상 없이 앱과 같은 경험으로 웹사이트를 사용할 수 있음
- 사용자 인터랙션이 빠르게 진행됨

### 단점
- 검색 엔진 최적화(SEO)에 대응이 어려움
- 최초 로딩 속도가 느림
- 서비스 사이즈가 커지면서 코드가 많아질수록 사용자가 첫 화면을 보기까지 시간이 오래 걸림


## SSR (Server Side Rendering)
- **서버 사이드 렌더링**
- 서버에서 필요한 데이터를 모두 가져와서 HTML 파일을 만들고, 동적인 소스코드와 함께 클라이언트 측에 보냄
- 클라이언트는 받은 HTML 문서를 바로 사용자에게 보여줌 (최초 로딩 속도가 빠름)
- 웹사이트가 먼저 보여지고, 동적인 제어가 가능하도록 JS 파일을 받아온 후에 사용자 인터랙션이 가능 (사용자가 웹사이트를 보는 시간과 인터랙션을 할 수 있는 시간 사이의 갭이 있음)

### 장점
- 모든 컨텐츠가 HTML에 담겨있기 때문에 검색 엔진 최적화(SEO)에 효율적
- og tag를 페이지 별로 적용하기에 효율적
- 빠른 페이지 렌더링

### 단점
- 웹페이지에서 클릭하면 전체적인 웹사이트를 다시 서버에서 받아와야함
- 사용자가 클릭할 때마다 서버에 요청해서 데이터를 불러와 HTML를 만들어야하기 때문에 서버 과부하 가능성 높음


## SSR과 CSR의 차이점
- 어디서 HTML 파일의 화면에 보일 페이지의 내용을 그리는가 (내용을 담아서 보내느냐, 비어있는 채로 보내느냐)
    - CSR : 페이지의 내용을 브라우저에서 그림(비어있음)
    - SSR : 서버에서 페이지의 내용을 다 그려서 브라우저로 던져 줌(담겨있음)
- 사용자가 웹페이지를 보는 타이밍과 인터랙션하는 단계가 일치하는가(화면을 언제 볼 수 있는가)

---

### SPA(Single Page Application)
- 링크를 클릭할 때마다 다른 페이지로 이동하는 것이 아니라 같은 페이지에서 자바스크립트를 사용해서 HTML 요소들을 동적으로 바꿔주는 것 
- 검색엔직 최적화에 적합하지 않음


### Next.js
- React에 SSR로 페이지를 제공하는 기능을 추가
- API 서버와 별개로 Next.js가 서버로 또 돌고 있음
- 정적 파일들로 빌드해서 올리는게 아니라, node.js가 깔린 서버에서 프로젝트를 어플리케이션으로 실행해서 프론트엔드를 배포
- 서버에서 페이지의 요소들 중 페이지 접속 시 바로 나타나야 할 것들을 정해, 서버에서 미리 랜더링해서 보내도록 짤 수 있는 것
- 다른 부분들은 기존의 react, vue 방식을 사용해서 동적으로 동작
- SSR처럼 첫 페이지 로딩이 빠르고, CSR 처럼 이후 인터랙션이 자연스럽게 되도록
- SEO 대응 가능
- next/link, next/router를 활용하여 CSR 방식으로 동작하게 함
    - url을 직접 주소창에 입력하여 페이지를 이동하면 SSR 방식으로 동작하여 html 파일을 불러오지만, link나 router를 통해 페이지를 이동하면 CSR 방식으로 동작하기 때문에 html 파일을 응답하지 않음

### react-helmet
- react에서 SEO를 할 수 있도록 도와주는 라이브러리
- SPA에서 각 route마다 html head를 설정할 수 있게 도와줌

### react-snap
- prerendering하여 SEO 보완
- js의 도움 없이 사이트의 내용물을 보여줄 수 있게 하는 라이브러리
- 빌드 시점에 렌더링된 화면을 스크린샷 찍듯이 크롤링하여 static 파일로 만들어주는 역할

### SSG (Static Site Generation)
- 정적 사이트 생성기
- React 코드를 사용해서 리액트 방식으로 코딩하는데, 이를 결과물로 내놓을 때는 렌더링을 다 마친 정적파일들을 생성하여 배포
- 이미 빌드한 시점에, 각각의 페이지에 대한 정적 HTML파일이 생성되어 서버에 올라가 있음
- 검색 엔진 최적화에 유리
- Next.js, Gatsby, Hugo, Jekylle, Hexo
