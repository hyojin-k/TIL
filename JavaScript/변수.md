# 변수

## 변수란?
- 데이터를 저장하는 메모리 공간의 주소값을 담은 이름
- 참조하기 위한 값이 저장된 메모리의 주소값을 변수에 저장한다

### 변수 선언
- 변수를 생성
- 값을 저장하기 위한 메모리 공간을 확보하고, 변수 이름과 확보된 메모리 공간의 주소를 연결하여 자바스크립트 엔진에 변수의 존재를 알려 값을 저장할 수 있게 준비

### 변수 초기화
- 선언문을 만나면 메모리에 공간을 확보하고 undefined를 할당하여 초기화한 후, 변수에 해당 메모리의 주소값을 저장

### 변수 할당
- 변수에 값을 저장

### 변수 참조
- 변수에 저장된 값을 읽어 들임
- 변수에 저장된 것은 메모리 주소값이지만, 변수를 참조하면 주소값이 아니라 주소값이 가르키는 메모리에 할당된 값이 반환

### 값의 재할당
- 기존 메모리 공간에 저장된 값을 변경하는 것이 아닌, 새로운 메모리 공간을 생성한 후 값을 저장하고 주소값을 변경

### var, let, const 의 차이점

| |var|let|const|
|---|:---:|:---:|:---:|
|중복선언|가능|불가능|불가능|
|재할당|가능|가능|불가능|
|변수 스코프 유효범위|함수 레벨 스코프|블록 레벨 스코프|블록 레벨 스코프|
|변수 호이스팅 방식|변수 선언과 초기화를 동시에 수행|변수 선언과 초기화를 따로 수행|변수 선언과 초기화를 따로 수행|
|전역객체 프로퍼티 여부|O|X|X|

### 스코프 유효범위
- 스코프 : 유효한 참조 범위
- var : 함수 레벨 스코프
- let / const : 블록 레벨 스코프

#### 함수 레벨 스코프
- 함수 내부에서 선언된 변수만 지역 변수로 한정
- if문, for문 등 나머지는 모두 전역변수로 간주하기 때문에 블록 밖에서도 참조 가능

#### 블록 레벨 스코프
- 함수, if문, for문 등 블록내에서 선언된 변수 모두 지역변수로 간주하기 때문에 블록 외부에서 참조 불가능


### 호이스팅
- 변수 선언문이 코드의 선두로 끌어 올려진 것 처럼 동작하는 것
- 코드를 실행하기 전, 코드 평과 과정을 거치면서 변수 선언문을 미리 실행해 두기 때문에, 코드의 위치에 상관없이 변수 선언이 다른 코드보다 먼저 실행되므로 어디서든 변수를 참조할 수 있음
- 선언은 호이스팅 되지만 할당은 호이스팅 되지 않음 
=> 이 때문에 var와 let/const 에서의 호이스팅이 다른 결과를 보임

#### var에서의 호이스팅
- 함수 본문 내에서 var로 선언된 변수는 선언 위치와 상관없이 함수 본문이 시작되는 지점에서 정의 됨
- 코드 실행 전에 자바스크립트 엔진이 미리 변수를 선언하고 undefined로 초기화 함
- 변수 선언보다 참조가 먼저 있어도 에러가 발생하지 않고 undefined 반환

#### let, const에서의 호이스팅
- 코드 실행 전에는 변수 선언만 하고 초기화는 코드 실행과정에서 변수 선언문을 만났을 때 수행
- 호이스팅이 발생하기는 하지만 값을 참조할 수 없어서 호이스팅이 발생하지 않는 것처럼 보임
- 변수 선언보다 참조가 먼저 있으면 참조에러(ReferenceError) 발생
=> TDZ 동작

#### TDZ (Temporal Dead Zone)
- 변수의 선언과 초기화 사이에 일시적으로 변수 값을 참조할 수 없는 구간
- 변수 선언 전에 변수를 사용할 수 없도록 함


**참고**
모던 자바스크립트 Deep Dive